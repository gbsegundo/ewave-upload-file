<mat-form-field>
  <div>
    <mat-toolbar>
      <input 
       matInput [value]="selectedFileNames.length ? selectedFileNames : 'Selecione o(s) arquivo(s)'" 
       [disabled]="message.length > 0" 
      />

      <button
        mat-flat-button
        color="primary"
        [disabled]="!selectedFiles  || message.length > 0"
        (click)="uploadFiles()"
      >
        Upload
      </button>
    </mat-toolbar>

    <input
      type="file"
      id="fileInput"
      name="fileInput"
      accept="text/xml"
      [disabled]="message.length > 0" 
      multiple 
      (change)="selectFiles($event)"
    />
  </div>
</mat-form-field>

<div *ngFor="let progressInfo of progressInfos">
  <span>{{ progressInfo.fileName }}</span>
  <mat-toolbar class="progress-bar">
    <mat-progress-bar
      color="accent"
      [value]="progressInfo.value"
    ></mat-progress-bar>
    <span class="progress">{{ progressInfo.value }}%</span>
  </mat-toolbar>
</div>


<div *ngIf="message.length" class="message">
  <ul *ngFor="let msg of message; let i = index">
    <li>{{ msg }}</li>
  </ul>
</div>

<button *ngIf="message.length > 0" 
    mat-flat-button
    color="primary"
    (click)="clean()"
    >
    Limpar Dados
</button>

